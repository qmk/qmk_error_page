webpackJsonp([1],{NHnr:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=s("7+uW"),o=s("M4fF"),a=s("mtWM"),d=s.n(a),i={name:"App",components:{},data:function(){return{keyboards:{},sortedKeyboards:{good:{},bad:{},goodlist:[],badlist:[]},buildLog:{},errorLog:"",showErrorPane:!1,filter:""}},mounted:function(){var t=this;d.a.get("https://api.qmk.fm/v1/keyboards/build_status").then(function(e){200===e.status&&(t.keyboards=e.data,t.sortKeyboards())}),d.a.get("https://api.qmk.fm/v1/keyboards/build_log").then(function(e){200===e.status&&(t.buildLog=e.data)})},methods:{showErrors:function(t){this.errorLog=this.buildLog[t].message,this.showErrorPane=!0},hideErrors:function(){this.showErrorPane=!1},filterKeyboards:function(){this.sortKeyboards()},sortKeyboards:function(){var t=this,e=Object(o.reduce)(this.keyboards,function(e,s,r){var o=r.lastIndexOf("/"),a=r.slice(0,o);return""===t.filter||a.toLowerCase().includes(t.filter.toLowerCase())?((r={name:a,key:r,layout:r.slice(o+1,r.length),url:"https://github.com/qmk/qmk_firmware/tree/master/keyboards/"+a+"/keymaps/default"}).title="Keyboard: "+r.name+" Layout: "+r.layout,s?e.good[r.key]=r:(e.bad[r.key]=r,r.title+="\nClick for build log"),e):e},{good:{},bad:{},goodlist:[],badlist:[]});e.goodlist=Object(o.keys)(e.good).sort(),e.badlist=Object(o.keys)(e.bad).sort(),this.sortedKeyboards=e}}},n={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"app"}},[s("h1",[t._v("QMK API Keyboard Status")]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.filter,expression:"filter"}],staticClass:"keyboard-filter",attrs:{placeholder:"search keyboards"},domProps:{value:t.filter},on:{input:[function(e){e.target.composing||(t.filter=e.target.value)},t.filterKeyboards]}}),t._v(" "),s("h3",[t._v("Builds Failing ("+t._s(t.sortedKeyboards.badlist.length)+")")]),t._v(" "),s("div",{staticClass:"build-status"},t._l(t.sortedKeyboards.badlist,function(e){return s("div",{key:t.sortedKeyboards.bad[e].key,staticClass:"keyboard-status keyboard-failed",attrs:{title:t.sortedKeyboards.bad[e].title},on:{click:function(s){t.showErrors(e)}}},[s("a",{attrs:{href:t.sortedKeyboards.bad[e].url}},[t._v("\n        "+t._s(t.sortedKeyboards.bad[e].name)+"\n      ")]),t._v(" "),s("br"),t._v("\n      "+t._s(t.sortedKeyboards.bad[e].layout)+"\n    ")])})),t._v(" "),s("h3",[t._v("Builds Passing ("+t._s(t.sortedKeyboards.goodlist.length)+")")]),t._v(" "),s("div",{staticClass:"build-status"},t._l(t.sortedKeyboards.goodlist,function(e){return s("div",{key:t.sortedKeyboards.good[e].key,staticClass:"keyboard-status keyboard-passed",attrs:{title:t.sortedKeyboards.good[e].title}},[s("a",{attrs:{href:t.sortedKeyboards.good[e].url}},[t._v("\n        "+t._s(t.sortedKeyboards.good[e].name)+"\n      ")]),t._v(" "),s("br"),t._v("\n      "+t._s(t.sortedKeyboards.good[e].layout)+"\n    ")])})),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:t.showErrorPane,expression:"showErrorPane"}],staticClass:"error-pane",on:{click:t.hideErrors}},[t._m(0),t._v(" "),s("div",{staticClass:"error-text"},[s("pre",[t._v("       "+t._s(t.errorLog)+"\n      ")])])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"error-title"},[e("h4",[this._v("Detailed Error Log")])])}]};var l=s("VU/8")(i,n,!1,function(t){s("Wn8u")},null,null).exports;r.a.config.productionTip=!1,new r.a({el:"#app",components:{App:l},template:"<App/>"})},Wn8u:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.d8ded4ed268343a170ee.js.map