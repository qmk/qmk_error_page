(function(){"use strict";var e={5701:function(e,r,t){t(6992),t(8674),t(9601),t(7727);var o=t(144),n=function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("div",{attrs:{id:"app"}},[t("ErrorReport")],1)},i=[],s=function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("div",[t("h1",[e._v("QMK API Keyboard Status")]),e.loading?t("div",{staticClass:"loading"},[t("font-awesome-icon",{attrs:{icon:"atom",spin:"",size:"6x","fixed-width":""}}),t("h2",[e._v("Loading Dataâ€¦ "+e._s(e.loadProgress)+"%")])],1):t("div",[t("input",{directives:[{name:"model",rawName:"v-model",value:e.filter,expression:"filter"}],staticClass:"keyboard-filter",attrs:{placeholder:"filter keyboards"},domProps:{value:e.filter},on:{input:function(r){r.target.composing||(e.filter=r.target.value)}}}),t("h5",[e._v("Loaded in "+e._s((e.loadTime/1e3).toFixed(2))+" seconds")]),t("BuildList",{attrs:{list:e.failingKeyboards,filter:e.filter},on:{"show-error-pane":e.showErrors}},[e._v(" Builds Failing ")]),t("BuildList",{attrs:{list:e.passingKeyboards,filter:e.filter},on:{"show-error-pane":e.showErrors}},[e._v(" Builds Passing ")]),t("ErrorPane",{directives:[{name:"show",rawName:"v-show",value:e.showErrorPane,expression:"showErrorPane"}],attrs:{"error-log":e.errorLog},on:{"backdrop-clicked":e.hideErrors}})],1)])},a=[],l=(t(2707),function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("div",[t("h3",[e._t("default"),e._v(" ("+e._s(e.filteredItems.length)+")")],2),t("div",{staticClass:"build-status"},e._l(e.filteredItems,(function(r){return t("StatusItem",e._g({key:r.key,attrs:{keyboardItem:r}},e.$listeners))})),1)])}),d=[],u=(t(7327),t(1539),t(6699),t(2023),function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("div",{staticClass:"keyboard-status",class:e.keyboardItem.passed?"passed":"failed",attrs:{title:e.lastTestedTitle},on:{click:function(r){return e.$emit("show-error-pane",e.keyboardItem.key)}}},[e._v(" "+e._s(e.vendorName)+" "),t("br"),e._v(" "+e._s(e.keyboardName)+" ")])}),c=[],f=(t(7042),t(4916),t(3123),t(2222),t(2165)),p={name:"StatusItem",props:{keyboardItem:Object},computed:{keyboardName:function(){var e=this.keyboardItem.key,r=e.indexOf("/");return r<0?"":e.slice(r+1,e.length)},vendorName:function(){return this.keyboardItem.key.split("/")[0]},lastTestedTitle:function(){var e=this.keyboardItem.lastTested;return"Last tested: ".concat((0,f.WU)(e)," (").concat(e.toLocaleString(),")\n").concat(e.toISOString())}}},m=p,h=t(1001),v=(0,h.Z)(m,u,c,!1,null,"03e246cc",null),g=v.exports,b={name:"BuildList",components:{StatusItem:g},props:{list:Array,filter:String},computed:{filteredItems:function(){var e=this;return this.list.filter((function(r){return r.key.toLowerCase().includes(e.filter.toLowerCase())}))}}},y=b,k=(0,h.Z)(y,l,d,!1,null,"6b55abf0",null),_=k.exports,w=function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("div",[t("div",{staticClass:"backdrop",on:{click:function(r){return e.$emit("backdrop-clicked")}}}),t("div",{staticClass:"error-pane"},[e._m(0),t("div",{staticClass:"error-text"},[t("pre",{domProps:{innerHTML:e._s(e.colorizedErrorLog)}})])])])},E=[function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("div",{staticClass:"error-title"},[t("h4",[e._v("Detailed Error Log")])])}],L=t(7174),P=t.n(L),x={name:"ErrorPane",props:{errorLog:String},data:function(){return{ansiConverter:new(P())({escapeXML:!0})}},computed:{colorizedErrorLog:function(){return this.ansiConverter.toHtml(this.errorLog)}}},I=x,C=(0,h.Z)(I,w,E,!1,null,"2e8944b3",null),O=C.exports,K=t(594),T=t(4061),N=t.n(T),$={name:"ErrorReport",components:{BuildList:_,ErrorPane:O},data:function(){return{loading:!0,loadTime:0,loadProgress:0,filter:"",passingKeyboards:[],failingKeyboards:[],buildLog:{},errorLog:"",showErrorPane:!1}},mounted:function(){this.downloadBuildLog()},methods:{downloadBuildLog:function(){var e=this,r=performance.now();K.Z.get("https://api.qmk.fm/v1/keyboards/build_log",{onDownloadProgress:function(r){e.loadProgress=Math.floor(r.loaded/r.total*100)}}).then((function(r){200===r.status&&(e.buildLog=r.data,e.binKeyboards())})).then((function(){e.loading=!1,e.loadTime=performance.now()-r}))},showErrors:function(e){this.errorLog=this.buildLog[e].message,this.showErrorPane=!0},hideErrors:function(){this.showErrorPane=!1},compareKeyboardNames:function(e,r){return e.key<r.key?-1:e.key>r.key?1:0},binKeyboards:function(){var e=N()(this.buildLog,(function(e,r,t){var o={passed:r.works,key:t,lastTested:new Date(1e3*r.last_tested)};return r.works?e.good.push(o):e.bad.push(o),e}),{good:[],bad:[]});e.good.sort(this.compareKeyboardNames),e.bad.sort(this.compareKeyboardNames),this.passingKeyboards=e.good,this.failingKeyboards=e.bad}}},S=$,Z=(0,h.Z)(S,s,a,!1,null,"1ed68cb0",null),B=Z.exports,j={name:"App",components:{ErrorReport:B}},M=j,z=(0,h.Z)(M,n,i,!1,null,null,null),D=z.exports,q=t(3636),A=t(9417),F=t(7810);q.vI.add(A._zQ),o.Z.component("font-awesome-icon",F.GN),o.Z.config.productionTip=!1,new o.Z({render:function(e){return e(D)}}).$mount("#app")}},r={};function t(o){var n=r[o];if(void 0!==n)return n.exports;var i=r[o]={id:o,loaded:!1,exports:{}};return e[o].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}t.m=e,function(){var e=[];t.O=function(r,o,n,i){if(!o){var s=1/0;for(u=0;u<e.length;u++){o=e[u][0],n=e[u][1],i=e[u][2];for(var a=!0,l=0;l<o.length;l++)(!1&i||s>=i)&&Object.keys(t.O).every((function(e){return t.O[e](o[l])}))?o.splice(l--,1):(a=!1,i<s&&(s=i));if(a){e.splice(u--,1);var d=n();void 0!==d&&(r=d)}}return r}i=i||0;for(var u=e.length;u>0&&e[u-1][2]>i;u--)e[u]=e[u-1];e[u]=[o,n,i]}}(),function(){t.n=function(e){var r=e&&e.__esModule?function(){return e["default"]}:function(){return e};return t.d(r,{a:r}),r}}(),function(){t.d=function(e,r){for(var o in r)t.o(r,o)&&!t.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:r[o]})}}(),function(){t.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){t.o=function(e,r){return Object.prototype.hasOwnProperty.call(e,r)}}(),function(){t.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e}}(),function(){var e={143:0};t.O.j=function(r){return 0===e[r]};var r=function(r,o){var n,i,s=o[0],a=o[1],l=o[2],d=0;if(s.some((function(r){return 0!==e[r]}))){for(n in a)t.o(a,n)&&(t.m[n]=a[n]);if(l)var u=l(t)}for(r&&r(o);d<s.length;d++)i=s[d],t.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return t.O(u)},o=self["webpackChunkqmk_error_page"]=self["webpackChunkqmk_error_page"]||[];o.forEach(r.bind(null,0)),o.push=r.bind(null,o.push.bind(o))}();var o=t.O(void 0,[998],(function(){return t(5701)}));o=t.O(o)})();
//# sourceMappingURL=app-legacy.ef7bfb70.js.map